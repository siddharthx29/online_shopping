<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ShopFlix - Cart</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" href="index.html">Shopdeal</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="account.html">Account</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container my-4">
  <h3>Your Cart</h3>
  <ul class="list-group mb-3" id="cart-list"></ul>
  <h5>Total: ₹<span id="cart-total">0</span></h5>
  <button class="btn btn-success mt-3" onclick="checkout()">Checkout</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderCart(){
  const cartList = document.getElementById("cart-list");
  const cartTotal = document.getElementById("cart-total");
  cartList.innerHTML = '';
  let total = 0;
  cart.forEach((item, index)=>{
    total += item.price;
    const li = document.createElement("li");
    li.className = "list-group-item d-flex justify-content-between align-items-center";
    li.innerHTML=`${item.name} - ₹${item.price} <button class="btn btn-sm btn-danger" onclick="removeFromCart(${index})">Remove</button>`;
    cartList.appendChild(li);
  });
  cartTotal.textContent = total;
}

function removeFromCart(index){
  cart.splice(index,1);
  localStorage.setItem("cart",JSON.stringify(cart));
  renderCart();
}

function checkout(){
  if(cart.length===0){ 
    alert("Cart is empty!"); 
    return; 
  }
  alert("Order placed! Thank you for shopping.");
  cart = [];
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

renderCart();
</script>
</body>
</html>

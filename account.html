<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Shopdeal - Account</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" href="index.html">Shopdeal</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Account Section -->
<div class="container my-4">
  <h3>Account</h3>

  <!-- User Info -->
  <div id="user-info" class="mb-4"></div>

  <!-- Login Form -->
  <div id="login-form">
    <h5>Login</h5>
    <input type="email" class="form-control mb-2" placeholder="Email" id="login-email">
    <input type="password" class="form-control mb-2" placeholder="Password" id="login-pass">
    <button class="btn btn-primary" onclick="login()">Login</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
let user = JSON.parse(localStorage.getItem("user")) || null;
const userInfoDiv = document.getElementById("user-info");
const loginFormDiv = document.getElementById("login-form");

// Render account section based on login status
function renderUser(){
  if(user){
    loginFormDiv.style.display = 'none';
    userInfoDiv.innerHTML = `
      <p>Welcome, <strong>${user.email}</strong></p>
      <button class="btn btn-danger" onclick="logout()">Logout</button>
    `;
  } else {
    loginFormDiv.style.display = 'block';
    userInfoDiv.innerHTML = '';
  }
}

// Simple login function (demo: any email/password accepted)
function login(){
  const email = document.getElementById("login-email").value;
  const pass = document.getElementById("login-pass").value;
  if(email && pass){
    user = { email };
    localStorage.setItem("user", JSON.stringify(user));
    renderUser();
    alert("Logged in as " + email);
  }
}

// Logout function
function logout(){
  user = null;
  localStorage.removeItem("user");
  renderUser();
}

// Initial render
renderUser();
</script>
</body>
</html>
